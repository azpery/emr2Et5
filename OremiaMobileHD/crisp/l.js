/**
 * crisp-client [compressed]
 * @fileoverview Client side of the Crisp livechat tool
 * 
 * @version 1.0.0
 * @date 2015-12-05
 * @author Crisp Communications https://crisp.im/
 */

(function(){function a(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}var b=!1;try{new(function(){function b(){var b=this,c="constructor";try{(function(){b.ns="CrispLoader",b.__console={warn:function(){},error:function(){},info:function(){},log:function(){},debug:function(){}},b.__project_name="crisp-client",b.__host_assets="client.crisp.im",b.__host_relay="relay.crisp.im",b.__client_revision="b6f9bd24ca27a9c0",b.__client_environment="production",b.__page_protocol=document.location.protocol||"https:",b.__better_protocol="production"===b.__client_environment?"https:":"http:",b.__url_website="https://crisp.im",b.__url_go="https://go.crisp.im",b.__url_relay=[b.__better_protocol+"//",""+b.__host_relay].join(""),b.__url_assets=[b.__better_protocol+"//",""+b.__host_assets].join(""),b.__path_javascripts="static/javascripts",b.__path_stylesheets="static/stylesheets",b.__dollar_crisp="$crisp",b.__check_every=100,b.__check_timeout=3e4,b.__width_threshold=320,b.__website_domain=document.domain,b.__page_url=document.location.href,b.__page_title=document.title,b.__browser_useragent=window.navigator.userAgent,"string"==typeof CRISP_WEBSITE_ID?b.__website_id=CRISP_WEBSITE_ID:b.__website_id=null,"object"===("undefined"==typeof CRISP_RUNTIME_CONFIG?"undefined":a(CRISP_RUNTIME_CONFIG))?b.__runtime_configuration=CRISP_RUNTIME_CONFIG:b.__runtime_configuration={},"object"===("undefined"==typeof CRISP_INCLUDE_ATTRS?"undefined":a(CRISP_INCLUDE_ATTRS))?b.__include_attrs=CRISP_INCLUDE_ATTRS:b.__include_attrs={};var d=document.onreadystatechange||function(){};Function.prototype.bind?("complete"==document.readyState?b.init():document.onreadystatechange=function(){"function"==typeof d&&d(),"complete"==document.readyState&&b.init()},"undefined"==typeof window[b.__dollar_crisp]?b.__include_client():b.__console.warn(b.ns+"."+c,"Crisp already loaded, load ignored")):b.__console.warn(b.ns+"."+c,"Browser may not be supported, Crisp load aborted")})()}catch(d){this.__console.error(this.ns+"."+c,d)}}return b.prototype.init=function(){var a=this,b="init";try{this.__console.debug(this.ns+"."+b,"Initialize"),!window.innerWidth||window.innerWidth>=this.__width_threshold?function(){var c=document.createElement("div");c.id="crisp-client-loader-dummy",document.getElementsByTagName("body")[0].appendChild(c);var d=function(){var a=window.getComputedStyle(c).getPropertyValue("display");return"none"==a?!0:!1},e=function f(){setTimeout(function(){a.__check_timeout-=a.__check_every,"undefined"!=typeof window[a.__dollar_crisp]&&"function"==typeof window[a.__dollar_crisp].__init&&d()===!0?(a.__console.info(a.ns+"."+b,"Dependencies loaded"),document.body.removeChild(c),window[a.__dollar_crisp].__init({project_name:a.__project_name,url_go:a.__url_go,url_relay:a.__url_relay,url_website:a.__url_website,url_assets:a.__url_assets,client_environment:a.__client_environment,client_revision:a.__client_revision,website_domain:a.__website_domain,website_id:a.__website_id,page_protocol:a.__page_protocol,page_url:a.__page_url,page_title:a.__page_title,browser_useragent:a.__browser_useragent,runtime_configuration:a.__runtime_configuration})):a.__check_timeout>0?f():a.__console.error(a.ns+"."+b,"Could not load dependencies")},a.__check_every)};e()}():this.__console.warn(this.ns+"."+b,"Aborted initialization due to poor screen space")}catch(c){this.__console.error(this.ns+"."+b,c)}},b.prototype.__include_client=function(){var a="__include_client";try{this.__include_preconnect(this.__url_assets),this.__include_preconnect(this.__url_relay),this.__include_client_javascripts(),this.__include_client_stylesheets()}catch(b){this.__console.error(this.ns+"."+a,b)}},b.prototype.__include_preconnect=function(a){var b="__include_preconnect";try{var c=document.createElement("link");c.href=a,c.rel="preconnect",c.crossorigin="anonymous",this.__apply_include_attrs(c),document.getElementsByTagName("head")[0].appendChild(c)}catch(d){this.__console.error(this.ns+"."+b,d)}},b.prototype.__include_client_javascripts=function(){var a="__include_client_javascripts";try{var b=document.createElement("script");b.src=[this.__url_assets+"/",this.__path_javascripts+"/","client.js?"+this.__client_revision].join(""),b.type="text/javascript",b.async=1,this.__apply_include_attrs(b),document.getElementsByTagName("head")[0].appendChild(b)}catch(c){this.__console.error(this.ns+"."+a,c)}},b.prototype.__include_client_stylesheets=function(){var a="__include_client_stylesheets";try{var b=document.createElement("link");b.href=[this.__url_assets+"/",this.__path_stylesheets+"/","client.css?"+this.__client_revision].join(""),b.type="text/css",b.rel="stylesheet",this.__apply_include_attrs(b),document.getElementsByTagName("head")[0].appendChild(b)}catch(c){this.__console.error(this.ns+"."+a,c)}},b.prototype.__apply_include_attrs=function(a){var b="__apply_include_attrs";try{for(var c in this.__include_attrs)this.__include_attrs.hasOwnProperty(c)&&a.setAttribute(c,this.__include_attrs[c])}catch(d){this.__console.error(this.ns+"."+b,d)}},b}())}catch(c){if(b===!0)throw c}})();